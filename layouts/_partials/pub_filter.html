<div id="publication-filters" class="w-full mt-4 mb-4"> <div class="flex flex-col md:flex-row gap-3 p-1.5 bg-slate-50/30 dark:bg-slate-800/20 rounded-xl border border-slate-200 dark:border-slate-700 transition-all focus-within:border-primary-400">
    
    <div class="relative flex-grow">
      <input 
        id="filter-search" 
        type="text" 
        placeholder="Search by title or author..." 
        class="block w-full px-4 py-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg text-sm transition-all focus:outline-none focus:ring-2 focus:ring-primary-500/10 focus:border-primary-500 placeholder-slate-400"
      >
    </div>

    <div class="flex gap-2">
      <div class="relative">
        <select id="filter-type" class="appearance-none min-w-[110px] pl-4 pr-10 py-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg text-sm cursor-pointer focus:outline-none focus:border-primary-500">
          <option value="">Type</option>
          {{ $type := slice }}
          {{ range where .Site.RegularPages "Section" "publications" }}
            {{ $subtype := .Params.Subtype | default "Other" }}
            {{ if not (in $type $subtype) }}
              {{ $type = $type | append $subtype }}
            {{ end }}
          {{ end }}
          {{ range sort $type "value" }}
            <option value="{{ . }}">{{ . }}</option>
          {{ end }}
        </select>
        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-400">
          <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M19 9l-7 7-7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
      </div>

      <div class="relative">
        <select id="filter-date" class="appearance-none min-w-[110px] pl-4 pr-10 py-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg text-sm cursor-pointer focus:outline-none focus:border-primary-500">
          <option value="">Date</option>
          <option value="<=2020">Before 2020</option>
          {{ $years := slice }}
          {{ range where .Site.RegularPages "Section" "publications" }}
            {{ $year := .Date.Year | default 2020 }}
            {{ if ge $year 2021 }}
              {{ if not (in $years $year) }}
                {{ $years = $years | append $year }}
              {{ end }}
            {{ end }}
          {{ end }}
          {{ range sort $years "value" "desc" }}
            <option value="{{ . }}">{{ . }}</option>
          {{ end }}
        </select>
        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-400">
          <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M19 9l-7 7-7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
      </div>
    </div>
  </div>
</div>