{{ define "main" }}
<!-- publication list -->

<div class="max-w-prose mx-auto flex justify-center">
  <article class="prose prose-slate lg:prose-xl dark:prose-invert">
    <h1 class="lg:text-6xl">{{ .Title }}</h1>
    {{ .Content }}
  </article>
</div>

{{ $view := .Params.view | default "card" }}
{{ $block := . }}


{{ $allpubs := where .Site.RegularPages "Section" "publications" }}
{{ $config := dict 
  "columns" (.Params.columns | default 2) 
  "fill_image" (.Params.fill_image | default true)
  "show_date" (.Params.show_date | default true)
  "show_read_time" (.Params.show_read_time | default true)
  "show_read_more" (.Params.show_read_more | default true)
}}

<div class="flex flex-col items-center" id="pub-list">
  <div class="mt-1.5 sm:mt-1 container max-w-3xl w-full">
    {{ partial "pub_filter" . }}
    <p class="text-sm text-slate-600 dark:text-slate-400 mb-3">✉️ indicates corresponding authors. Undererlined students are from my group.</p>
  </div>
  {{ partial "functions/render_view" (dict "fragment" "start" "page" $block "item" . "view" $view "config" $config) }}

  {{ range $index, $item := sort $allpubs ".Params.year" "desc" }}
  {{ partial "functions/render_view" (dict "page" . "item" . "view" $view "index" $index "config" $config) }}
  {{end}}

  {{ partial "functions/render_view" (dict "fragment" "end" "page" $block "item" . "view" $view) }}

</div>
<script src="/js/pub_filter.js"></script>
{{ end }}

